import{j as f,r as n,f as i,e as y,R as E,v}from"./vendor.aa0d38c6.js";const C=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}};C();const a=f.exports.jsx,p=f.exports.jsxs,k=f.exports.Fragment,m="dekadeka:banner-text",w=()=>{const[l,s]=n.exports.useState(!1),[c,o]=n.exports.useState(!1),[e,t]=n.exports.useState(null),r=n.exports.useRef(null);n.exports.useEffect(()=>{i.addEventListener("fullscreenchange",()=>{o(!!i.fullscreenElement)})},[]),n.exports.useEffect(()=>(t(y(r.current)),()=>{e&&e.unsubscribe()}),[]),n.exports.useEffect(()=>{try{const d=localStorage.getItem(m);d&&r.current&&(r.current.textContent=d)}catch{}},[]);const u=n.exports.useCallback(()=>{i.exitFullscreen()},[]),x=n.exports.useCallback(()=>{document.body.focus(),c||i.requestFullscreen(document.body)},[]),b=n.exports.useCallback(()=>{r.current&&localStorage.setItem(m,N(r.current))},[]),g=n.exports.useCallback(()=>{s(!0)},[]),h=n.exports.useCallback(()=>{setTimeout(()=>{s(!1)},100)},[]);return p(k,{children:[l&&p("div",{className:"control",children:[c&&i.fullscreenEnabled&&a("button",{onClick:u,children:"Exit fullsreen"}),a("button",{onClick:x,children:"View"})]}),a("div",{className:"banner",children:a("div",{ref:r,contentEditable:!0,onKeyUp:b,onFocus:g,onBlur:h,children:"Hello, world!"})})]})};function N(l){const[,s]=c(l);return s;function c(o){if(o.nodeType===Node.TEXT_NODE)return[!1,o.textContent];let e="";for(let t=0;t<o.childNodes.length;t++){const[r,u]=c(o.childNodes[t]);e+=`${t>0&&r?`
`:""}${u}`}return[o.nodeName.toLowerCase()==="div",e]}}E.render(a(w,{}),document.getElementById("main"));if("serviceWorker"in navigator){const l=new v("sw.js");l.addEventListener("installed",s=>{s.isUpdate&&confirm("Newer version is available. Refresh to update?")&&window.location.reload()}),l.register()}
